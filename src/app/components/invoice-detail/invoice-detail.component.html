<!-- invoice-detail.component.html -->
<div class="container mx-auto p-4">
  <div class="bg-white shadow-md rounded-lg p-6">
    <h2 class="text-xl font-bold mb-4">Historia etapów</h2>
    <table class="w-full border-collapse border border-gray-300">
      <thead>
      <tr class="bg-gray-100">
        <th class="border border-gray-300 p-2">Data wprowadzenia</th>
        <th class="border border-gray-300 p-2">Od</th>
        <th class="border border-gray-300 p-2">Do</th>
        <th class="border border-gray-300 p-2">Wykonawca</th>
        <th class="border border-gray-300 p-2">Data wykonania</th>
        <th class="border border-gray-300 p-2">Etap</th>
        <th class="border border-gray-300 p-2">W</th>
        <th class="border border-gray-300 p-2">P</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of history" class="text-center">
        <td class="border border-gray-300 p-2">{{ item.date }}</td>
        <td class="border border-gray-300 p-2">{{ item.from }}</td>
        <td class="border border-gray-300 p-2">{{ item.to }}</td>
        <td class="border border-gray-300 p-2">{{ item.executor }}</td>
        <td class="border border-gray-300 p-2">{{ item.executionDate }}</td>
        <td class="border border-gray-300 p-2">{{ item.stage }}</td>
        <td class="border border-gray-300 p-2">
          <span *ngIf="item.w" class="text-green-500">✔</span>
          <span *ngIf="!item.w" class="text-red-500">✖</span>
        </td>
        <td class="border border-gray-300 p-2">
          <span class="text-yellow-500">✉</span>
        </td>
      </tr>
      </tbody>
    </table>
    <div class="mt-4 flex justify-between items-center">
      <p class="text-sm">Strona {{ currentPage }} z {{ totalPages }} ({{ totalItems }} elementów)</p>
      <div class="flex space-x-2">
        <button class="px-3 py-1 bg-gray-200 rounded" (click)="prevPage()">&lt;</button>
        <button class="px-3 py-1 bg-gray-200 rounded" (click)="nextPage()">&gt;</button>
      </div>
    </div>
  </div>
  <button class="mt-4 px-4 py-2 bg-red-500 text-white rounded" (click)="close()">Zamknij</button>
  <!-- Uwagi -->
  <div class="mt-6">
    <label for="remarks" class="block text-lg font-semibold text-gray-700">Twoje uwagi</label>
    <textarea id="remarks" rows="4" class="w-full p-3 border rounded-lg"></textarea>
  </div>

  <!-- Sekcja statusu -->
  <div class="mt-4 p-4 border border-green-300 bg-green-100 rounded-lg flex items-center">
    <span class="text-green-600 text-xl mr-2">✔</span>
    <p class="text-green-700 font-medium">Zatwierdzanie i przesyłanie na etap III.A MERYTORYCZNY - ZWROT (wszystkie osoby etapu) do Konsultant Konsultant zakończone pomyślnie. [Faktura test 2]</p>
  </div>

  <!-- Przyciski Akceptuję, Odrzucam, Przekazuję -->
  <div class="mt-4 flex justify-center space-x-4">
    <button class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600" (click)="acceptAction()">Akceptuję</button>
    <button class="px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 border-2 border-red-300" (click)="rejectAction()">Odrzucam</button>
    <button class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600" (click)="forwardAction()">Przekazuję</button>
  </div>
</div>
